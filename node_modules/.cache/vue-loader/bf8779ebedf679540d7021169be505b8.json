{"remainingRequest":"/Users/asupreyaporn/Downloads/vue-barcode-master/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/asupreyaporn/Downloads/vue-barcode-master/src/views/Login.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/asupreyaporn/Downloads/vue-barcode-master/src/views/Login.vue","mtime":1557043206000},{"path":"/Users/asupreyaporn/Downloads/vue-barcode-master/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/asupreyaporn/Downloads/vue-barcode-master/node_modules/babel-loader/lib/index.js","mtime":499162500000},{"path":"/Users/asupreyaporn/Downloads/vue-barcode-master/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/asupreyaporn/Downloads/vue-barcode-master/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":["//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n\nimport Axios from 'axios';\nimport {\n  mapActions,\n} from 'vuex'\nimport {\n  sync,\n} from 'vuex-pathify'\nimport controlData from './getApiData/controlData'\nimport store from '../store/store'\n\n\nexport default {\n  name: 'Login',\n  components: {\n    // tab,\n  },\n  data() {\n    return {\n      Store: this.$store.state,\n      snackฺฺฺBarBool: false,\n      msgSnackBar: null,\n      timeout: 5000,\n      inputUserName: null,\n      inputPassword: null,\n      test: 'testdata',\n      data: [],\n      z: '',\n      loading: false,\n      datainsert: {\n        pid: '1759900252875',\n        fname: 'A-nupha',\n        lname: 'Supreyaporn',\n        tname: 'mr.',\n        bdate: '25620202',\n        email: 'fhj@gmail.com',\n        tel: '0882881878',\n        flag_id: '0',\n        now_date: '22560202',\n        rcode_id: '7704',\n        index1: '1234',\n        index2: '1234',\n      },\n      desserts: [\n        {\n          name: 'Frozen Yogurt',\n          calories: 159,\n          fat: 6.0,\n          carbs: 24,\n          protein: 4.0,\n          iron: '1%',\n        },\n        {\n          name: 'Ice cream sandwich',\n          calories: 237,\n          fat: 9.0,\n          carbs: 37,\n          protein: 4.3,\n          iron: '1%',\n        },\n        {\n          name: 'Eclair',\n          calories: 262,\n          fat: 16.0,\n          carbs: 23,\n          protein: 6.0,\n          iron: '7%',\n        },\n        {\n          name: 'Cupcake',\n          calories: 305,\n          fat: 3.7,\n          carbs: 67,\n          protein: 4.3,\n          iron: '8%',\n        },\n        {\n          name: 'Gingerbread',\n          calories: 356,\n          fat: 16.0,\n          carbs: 49,\n          protein: 3.9,\n          iron: '16%',\n        },\n        {\n          name: 'Jelly bean',\n          calories: 375,\n          fat: 0.0,\n          carbs: 94,\n          protein: 0.0,\n          iron: '0%',\n        },\n        {\n          name: 'Lollipop',\n          calories: 392,\n          fat: 0.2,\n          carbs: 98,\n          protein: 0,\n          iron: '2%',\n        },\n        {\n          name: 'Honeycomb',\n          calories: 408,\n          fat: 3.2,\n          carbs: 87,\n          protein: 6.5,\n          iron: '45%',\n        },\n        {\n          name: 'Donut',\n          calories: 452,\n          fat: 25.0,\n          carbs: 51,\n          protein: 4.9,\n          iron: '22%',\n        },\n        {\n          name: 'KitKat',\n          calories: 518,\n          fat: 26.0,\n          carbs: 65,\n          protein: 7,\n          iron: '6%',\n        },\n      ],\n    }\n  },\n  computed: {\n    ...sync('*'),\n  },\n  created() {\n    this.insert()\n    // controlData.search().then((response) => {\n    //   let retData = response.data\n    //   retData.forEach((k, v) => {\n    //     let pid = k.pid\n    //     if (pid != this.store.state.userName) {\n    //       alert('ไม่พบผู้ใช้งานนี้ในระบบ')\n    //     }\n    //   });\n    // });\n  },\n\n  methods: {\n    async insert() {\n      const api = 'https://a-nuphasupit58.000webhostapp.com/php/test.php';\n      // const fromData = new FormData();\n      const Empparams = new URLSearchParams();\n      const az = JSON.stringify(this.desserts)\n      console.log('data', az)\n      Empparams.append('dataarr', az)\n      await Axios.post(api, Empparams)\n        .then((response) => {\n          console.log(response.data);\n        })\n    },\n\n\n    async getUser() {\n      // await controlData.search().then((response) => {\n      //   const retData = response.data\n      //   console.log('daTAaPIsERCH', retData)\n      //   for (let i = 0; i < retData.length; i += 1) {\n      //\n      //   //   this.$set(this.Store.dataUserApi, i, {\n      //   //     ...this.Store.dataUserApi[i],\n      //   //     indexLog: i,\n      //   //   })\n      //   //   this.$set(this.Store.dataUserApi, i, {\n      //   //     ...this.Store.dataUserApi[i],\n      //   //     index2Edit: this.Store.dataUserApi[i].index2,\n      //   //   })\n      //   }\n      //   // console.log(this.Store.dataUserApi)\n      // });\n    },\n    async login() {\n      this.loading = true\n      // eslint-disable-next-line prefer-destructuring\n      const userName = store.state.userName\n      // eslint-disable-next-line prefer-destructuring\n      const passWord = store.state.passWord\n      await controlData.login(userName, passWord)\n      if (String(store.state.dataLogin[0].index1)\n        .toLowerCase() === String(userName).toLowerCase()) {\n        // alert('ถูกต้อง')\n        console.log('data login', store.state.dataLogin)\n        const menu = 'Menu'\n        this.setDataLogin(menu);\n        this.getUser()\n        this.Store.nameUser = store.state.dataLogin[0].fname\n        this.loading = false\n        console.log('store.state.dataLogin', store.state.dataLogin[0].fname)\n      } if (String(await store.state.dataLogin) === 'password is incorrect') {\n        console.log('test')\n        this.msgSnackBar = 'password is incorrect'\n        this.snackฺฺฺBarBool = true\n        console.log(store.state.dataLogin)\n        this.loading = false\n      }\n    },\n    ...mapActions({\n      setDataLogin: 'getApi/setDataLogin',\n    }),\n    async setData(data) {\n      controlData.save(data)\n      const menu = 'Menu'\n      this.setDataLogin(menu);\n      // await this.validatePassword()\n    },\n    // validatePassword() {\n    //   if (Username == this.XXX && this.password == this.yyy) {\n    //     const menu = 'Menu'\n    //     this.setDataLogin(menu);\n    //   }\n    // },\n    Register() {\n      const Register = 'Register'\n      this.setDataLogin(Register);\n    },\n  },\n}\n",{"version":3,"sources":["Login.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAyDA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;AAGA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;AAGA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"Login.vue","sourceRoot":"src/views","sourcesContent":["<template>\n  <div>\n    <v-content>\n      <v-container>\n        <v-layout align-center justify-center>\n          <v-flex class=\"grey lighten-4\">\n            <v-container>\n              <v-card flat>\n                <v-card-title>\n                  <v-toolbar color=\"blue lighten-2\" dark>\n                    <v-layout><v-icon>mdi-login</v-icon></v-layout>\n                    <v-layout>\n                      <v-flex caption>\n                        \n                        Enter your usename and password to log on\n                        </v-flex>\n                        </v-layout>\n                    \n                    \n                  </v-toolbar>\n                </v-card-title>\n                <v-form>\n                  <v-layout>\n                    <v-flex ma-1 pr-5  >\n                      <v-text-field prepend-icon=\"mdi-account\" name=\"Username\" label=\"Username\" v-model=\"userName\"></v-text-field>\n                      <v-text-field prepend-icon=\"mdi-lock\" name=\"Password\" label=\"Password\" type=\"password\" v-model=\"passWord\"></v-text-field>\n                    </v-flex>\n                  </v-layout>\n                  <v-card-actions>\n                    <v-btn color=\"blue\" :loading=\"loading\"  dark large block @click=\"login()\">Login</v-btn>\n                    <!-- <v-btn color=\"red\" dark large block @click=\"Register()\">Register</v-btn> -->\n                  </v-card-actions>\n                  <!-- <li>{{userName}}</li> -->\n                  <!-- <li>{{msg}}</li> -->\n                  <!-- {{store.state.msgSnackBar}} -->\n                  \n\n                </v-form>\n                \n              </v-card>\n            </v-container>\n          </v-flex>\n        </v-layout>\n      </v-container>\n    </v-content>\n    <v-snackbar\n    :vertical=\"true\"\n    v-model=\"snackฺฺฺBarBool\"\n    color=\"orange\"\n    :timeout=\"timeout\"\n    bottom>\n    <v-flex >{{msgSnackBar}}</v-flex>\n  </v-snackbar>\n  <!-- {{snackฺฺฺBarBool}} -->\n  </div>\n</template>\n<script>\nimport Axios from 'axios';\nimport {\n  mapActions,\n} from 'vuex'\nimport {\n  sync,\n} from 'vuex-pathify'\nimport controlData from './getApiData/controlData'\nimport store from '../store/store'\n\n\nexport default {\n  name: 'Login',\n  components: {\n    // tab,\n  },\n  data() {\n    return {\n      Store: this.$store.state,\n      snackฺฺฺBarBool: false,\n      msgSnackBar: null,\n      timeout: 5000,\n      inputUserName: null,\n      inputPassword: null,\n      test: 'testdata',\n      data: [],\n      z: '',\n      loading: false,\n      datainsert: {\n        pid: '1759900252875',\n        fname: 'A-nupha',\n        lname: 'Supreyaporn',\n        tname: 'mr.',\n        bdate: '25620202',\n        email: 'fhj@gmail.com',\n        tel: '0882881878',\n        flag_id: '0',\n        now_date: '22560202',\n        rcode_id: '7704',\n        index1: '1234',\n        index2: '1234',\n      },\n      desserts: [\n        {\n          name: 'Frozen Yogurt',\n          calories: 159,\n          fat: 6.0,\n          carbs: 24,\n          protein: 4.0,\n          iron: '1%',\n        },\n        {\n          name: 'Ice cream sandwich',\n          calories: 237,\n          fat: 9.0,\n          carbs: 37,\n          protein: 4.3,\n          iron: '1%',\n        },\n        {\n          name: 'Eclair',\n          calories: 262,\n          fat: 16.0,\n          carbs: 23,\n          protein: 6.0,\n          iron: '7%',\n        },\n        {\n          name: 'Cupcake',\n          calories: 305,\n          fat: 3.7,\n          carbs: 67,\n          protein: 4.3,\n          iron: '8%',\n        },\n        {\n          name: 'Gingerbread',\n          calories: 356,\n          fat: 16.0,\n          carbs: 49,\n          protein: 3.9,\n          iron: '16%',\n        },\n        {\n          name: 'Jelly bean',\n          calories: 375,\n          fat: 0.0,\n          carbs: 94,\n          protein: 0.0,\n          iron: '0%',\n        },\n        {\n          name: 'Lollipop',\n          calories: 392,\n          fat: 0.2,\n          carbs: 98,\n          protein: 0,\n          iron: '2%',\n        },\n        {\n          name: 'Honeycomb',\n          calories: 408,\n          fat: 3.2,\n          carbs: 87,\n          protein: 6.5,\n          iron: '45%',\n        },\n        {\n          name: 'Donut',\n          calories: 452,\n          fat: 25.0,\n          carbs: 51,\n          protein: 4.9,\n          iron: '22%',\n        },\n        {\n          name: 'KitKat',\n          calories: 518,\n          fat: 26.0,\n          carbs: 65,\n          protein: 7,\n          iron: '6%',\n        },\n      ],\n    }\n  },\n  computed: {\n    ...sync('*'),\n  },\n  created() {\n    this.insert()\n    // controlData.search().then((response) => {\n    //   let retData = response.data\n    //   retData.forEach((k, v) => {\n    //     let pid = k.pid\n    //     if (pid != this.store.state.userName) {\n    //       alert('ไม่พบผู้ใช้งานนี้ในระบบ')\n    //     }\n    //   });\n    // });\n  },\n\n  methods: {\n    async insert() {\n      const api = 'https://a-nuphasupit58.000webhostapp.com/php/test.php';\n      // const fromData = new FormData();\n      const Empparams = new URLSearchParams();\n      const az = JSON.stringify(this.desserts)\n      console.log('data', az)\n      Empparams.append('dataarr', az)\n      await Axios.post(api, Empparams)\n        .then((response) => {\n          console.log(response.data);\n        })\n    },\n\n\n    async getUser() {\n      // await controlData.search().then((response) => {\n      //   const retData = response.data\n      //   console.log('daTAaPIsERCH', retData)\n      //   for (let i = 0; i < retData.length; i += 1) {\n      //\n      //   //   this.$set(this.Store.dataUserApi, i, {\n      //   //     ...this.Store.dataUserApi[i],\n      //   //     indexLog: i,\n      //   //   })\n      //   //   this.$set(this.Store.dataUserApi, i, {\n      //   //     ...this.Store.dataUserApi[i],\n      //   //     index2Edit: this.Store.dataUserApi[i].index2,\n      //   //   })\n      //   }\n      //   // console.log(this.Store.dataUserApi)\n      // });\n    },\n    async login() {\n      this.loading = true\n      // eslint-disable-next-line prefer-destructuring\n      const userName = store.state.userName\n      // eslint-disable-next-line prefer-destructuring\n      const passWord = store.state.passWord\n      await controlData.login(userName, passWord)\n      if (String(store.state.dataLogin[0].index1)\n        .toLowerCase() === String(userName).toLowerCase()) {\n        // alert('ถูกต้อง')\n        console.log('data login', store.state.dataLogin)\n        const menu = 'Menu'\n        this.setDataLogin(menu);\n        this.getUser()\n        this.Store.nameUser = store.state.dataLogin[0].fname\n        this.loading = false\n        console.log('store.state.dataLogin', store.state.dataLogin[0].fname)\n      } if (String(await store.state.dataLogin) === 'password is incorrect') {\n        console.log('test')\n        this.msgSnackBar = 'password is incorrect'\n        this.snackฺฺฺBarBool = true\n        console.log(store.state.dataLogin)\n        this.loading = false\n      }\n    },\n    ...mapActions({\n      setDataLogin: 'getApi/setDataLogin',\n    }),\n    async setData(data) {\n      controlData.save(data)\n      const menu = 'Menu'\n      this.setDataLogin(menu);\n      // await this.validatePassword()\n    },\n    // validatePassword() {\n    //   if (Username == this.XXX && this.password == this.yyy) {\n    //     const menu = 'Menu'\n    //     this.setDataLogin(menu);\n    //   }\n    // },\n    Register() {\n      const Register = 'Register'\n      this.setDataLogin(Register);\n    },\n  },\n}\n</script>\n<style>\n  /* .bg {\n      width: 100%;\n      height: 100%;\n      position: absolute;\n      top: 0;\n      left: 0;\n      background-color: red;\n      transform: scale(1.1);\n    } */\n</style>\n"]}]}