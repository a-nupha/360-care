{"remainingRequest":"/Users/asupreyaporn/Downloads/vue-barcode-master/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/asupreyaporn/Downloads/vue-barcode-master/src/views/Register.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/asupreyaporn/Downloads/vue-barcode-master/src/views/Register.vue","mtime":1557043206000},{"path":"/Users/asupreyaporn/Downloads/vue-barcode-master/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/asupreyaporn/Downloads/vue-barcode-master/node_modules/babel-loader/lib/index.js","mtime":499162500000},{"path":"/Users/asupreyaporn/Downloads/vue-barcode-master/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/asupreyaporn/Downloads/vue-barcode-master/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":["//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n\nimport {\n  mapActions,\n} from 'vuex'\nimport {\n  sync,\n} from 'vuex-pathify'\nimport moment from 'moment'\nimport Axios from 'axios';\nimport controlData from './getApiData/controlData'\nimport store from '../store/store'\nimport functions from '../plugins/functions'\n\n\nexport default {\n  data() {\n    return {\n      cate_value: '',\n      valid: true,\n      color: '',\n      branchName: '',\n      snackฺฺฺBarBool: null,\n      timeout: 10000,\n      select: '02',\n      items: [\n        'Empooyee',\n        'Manager',\n      ],\n      selected: '',\n      confirmPassword: '',\n      getBranch: '',\n      LastName: '',\n      username: '',\n      nameRules: [\n        v => !!v || 'Name is required',\n      ],\n      branchRules: [\n        v => !!v || 'branch is required',\n      ],\n      pidRules: [\n        v => !!v || 'pid is required',\n        v => (v && v.length === 13) || 'pid is not match',\n      ],\n      passRules: [\n        v => !!v || 'password is required',\n      ],\n      fnameRules: [\n        v => !!v || 'firstName is required',\n      ],\n      lnameRules: [\n        v => !!v || 'lastName is required',\n      ],\n      password: '',\n      email: '',\n      emailRules: [\n        v => !!v || 'E-mail is required',\n        v => /.+@.+/.test(v) || 'E-mail must be valid',\n      ],\n      fname: '',\n      lname: '',\n      tname: 'Mr.',\n      branch: '',\n      pid: '',\n      msgSnackBar: '',\n      loadingbtn: null,\n      // nowDate: functions.moment('YYYYMMDD'),\n      nowDate: functions.moment(moment().format('YYYYMMDD')),\n    }\n  },\n  computed: {\n    ...sync('*'),\n    comparePasswords() {\n      return this.password !== this.confirmPassword ? 'Passwords do not match.' : true\n    },\n  },\n  watch: {\n  },\n  created() {\n    this.getDataBranch()\n  },\n  methods: {\n    ...mapActions({\n      setDataLogin: 'getApi/setDataLogin',\n    }),\n    validate() {\n      if (this.$refs.form.validate()) {\n        this.dataInsert()\n      }\n    },\n    async dataInsert() {\n      if (this.username || this.password || this.fname || this.pid) {\n        this.loadingbtn = true\n        const obj = {\n          username: this.username,\n          password: this.password,\n          email: this.email,\n          fname: this.fname,\n          lname: this.lname,\n          tname: this.tname,\n          pid: this.pid,\n          flag_id: this.select,\n          now_date: this.nowDate,\n          rcode_id: this.cate_value.branch_id,\n          role_id: this.select,\n        }\n        console.log('obj', obj)\n        await controlData.save(obj)\n        // const objBranch = {\n        //   branchName: this.branchName,\n        //   branch: this.branch,\n        // }\n        // await controlData.insertBranchName(objBranch)\n        await this.awitData()\n      } else {\n        this.snackฺฺฺBarBool = true\n        this.msgSnackBar = 'กรุณากรอกให้ครบสิคะ ไปทำมาใหม่นะ'\n        this.color = 'red'\n      }\n    },\n    awitData() {\n      if (Boolean(store.state.msgSave) === false && Boolean(store.state.msginsertBranch) === false) {\n        console.log('msgErrorLogin', store.state.msgSave)\n        this.loadingbtn = false\n        this.snackฺฺฺBarBool = true\n        this.msgSnackBar = 'unsuccessful'\n        this.color = 'red'\n      } else {\n        this.loadingbtn = false\n        this.snackฺฺฺBarBool = true\n        this.msgSnackBar = 'success'\n        this.color = 'green'\n      }\n    },\n    success() {\n      this.snackฺฺฺBarBool = false\n      const menu = 'Menu'\n      this.setDataLogin(menu);\n    },\n    async getDataBranch() {\n      const api = 'https://a-nuphasupit58.000webhostapp.com/php/getBranch.php';\n      const response = await Axios(api)\n      this.getBranch = response.data\n      console.log(this.getBranch)\n    },\n  },\n}\n",{"version":3,"sources":["Register.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AA+LA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;AAGA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"Register.vue","sourceRoot":"src/views","sourcesContent":["<template>\n<div>\n  <v-container>\n    <v-layout row>\n      <v-flex xs12 sm6 offset-sm3>\n        <v-card>\n          <v-card-text>\n            <v-container>\n              <form>\n                <v-form\n      ref=\"form\"\n      v-model=\"valid\"\n      lazy-validation\n    >\n                <v-layout row>\n                  <v-flex xs12>\n                    <v-text-field\n                    prepend-icon=\"mdi-account-box\"\n\n        v-model=\"username\"\n        :counter=\"15\"\n        :rules=\"nameRules\"\n        label=\"Name\"\n        required\n      ></v-text-field>\n                    <!-- <v-text-field\n                      prepend-icon=\"mdi-account-box\"\n                      label=\"Username\"\n                      v-model=\"username\"\n                      rules=\"nameRules\"\n                      required>\n                    </v-text-field> -->\n                  </v-flex>\n                </v-layout>\n                <v-layout row>\n                  <v-flex xs12>\n                    <v-text-field\n                      prepend-icon=\"mdi-lock-question\"\n                      v-model=\"password\"\n                      label=\"password\"\n                      :rules=\"passRules\"\n                      type=\"password\"\n                      required></v-text-field>\n                  </v-flex>\n                </v-layout>\n                <v-layout row>\n                  <v-flex xs12>\n                    <v-text-field\n                      prepend-icon= \"mdi-alert-octagon\"\n                      label=\"Validate Password\"\n                      v-model=\"confirmPassword\"\n                      type=\"password\"\n                      :rules=\"[comparePasswords]\"></v-text-field>\n                  </v-flex>\n                </v-layout>\n                <v-layout row>\n                  <v-flex xs12>\n                    <v-text-field\n                    prepend-icon=\"mdi-email\"\n                    v-model=\"email\"\n                    :rules=\"emailRules\"\n                    label=\"E-mail\"\n                    required\n                  ></v-text-field>\n                    <!-- <v-text-field\n                    rules=\"emailRules\"\n                      prepend-icon=\"mdi-email\"\n                      label=\"Your E-mail\"\n                      v-model=\"email\"\n                      required></v-text-field> -->\n                  </v-flex>\n                </v-layout>\n                <v-layout row>\n                  <v-flex xs12>\n                    <v-text-field\n                      prepend-icon=\"mdi-account\"\n                      name=\"FirstName\"\n                      label=\"FirstName\"\n                      :rules=\"fnameRules\"\n                      id=\"name\"\n                      v-model=\"fname\"\n                      type=\"text\"\n                      required></v-text-field>\n                  </v-flex>\n                </v-layout>\n                <v-layout row>\n                  <v-flex xs12>\n                    <v-text-field\n                      prepend-icon=\" \"\n                      label=\"LastName\"\n                      v-model=\"lname\"\n                      :rules=\"lnameRules\"\n                      type=\"text\"\n                      required></v-text-field>\n                  </v-flex>\n                </v-layout>\n                <v-layout row>\n                  <v-flex xs12>\n                    <v-text-field\n                    prepend-icon=\"mdi-account-card-details\"\n                      label=\"Pid\"\n                      :rules=\"pidRules\"\n                      v-model=\"pid\"\n                      mask=\"#-####-#####-##-#\"\n                      required></v-text-field>\n                  </v-flex>\n                </v-layout>\n                <v-layout row>\n                  <v-flex xs12>\n                    <!-- <v-text-field\n                    prepend-icon=\"mdi-account-card-details\"\n                      label=\"id branch\"\n                      v-model=\"branch\"\n                      mask=\"####\"\n                      required></v-text-field> -->\n                       <!-- {{cate_value}} -->\n                       <v-select\n                       :rules=\"branchRules\"\n                :items=\"getBranch\"\n                prepend-icon=\" \"\n                item-value=\"branch_id\"\n                key=\"branch_id\"\n                v-model=\"cate_value\"\n                item-text=\"branch_name\"\n                label=\"branch\"\n                single-line\n                return-object\n                />\n                  </v-flex>\n                </v-layout>\n                <v-layout>\n                  <v-flex>\n                  </v-flex>\n                </v-layout>\n              <v-layout wrap>\n              <v-flex xs12>\n                <v-radio-group v-model=\"tname\" row>\n                  <v-radio required prepend-icon=\" \"  color=\"blue\" label=\"Mr.\" value=\"Mr.\"/>\n                  <v-radio required prepend-icon=\" \"  color=\"blue\" label=\"Mrs.\" value=\"Mrs.\"/>\n                  <v-radio required prepend-icon=\" \"  color=\"blue\" label=\"Ms.\" value=\"Ms.\"/>\n                </v-radio-group>\n              </v-flex>\n              </v-layout>\n              <v-layout>\n                <v-radio-group v-model=\"select\" row>\n                  <v-radio required prepend-icon=\" \"  color=\"blue\" label=\"Manager\" value=\"01\"/>\n                  <v-radio required prepend-icon=\" \"  color=\"blue\" label=\"Empooyee\" value=\"02\"/>\n                </v-radio-group>\n              </v-layout>\n              <v-layout ma-0>\n                  <v-flex xs12 ma-0>\n                    <v-btn color=\"blue\" dark large block :loading='loadingbtn'\n                    @click=\"validate()\" :disabled=\"!valid\" >Register</v-btn>\n                  </v-flex>\n                </v-layout>\n                <v-flex xs12>\n                </v-flex>\n                </v-form>\n              </form>\n            </v-container>\n          </v-card-text>\n        </v-card>\n      </v-flex>\n    </v-layout>\n  </v-container>\n  <v-layout row justify-center>\n      <v-dialog v-model=\"snackฺฺฺBarBool\" persistent max-width=\"400px\">\n        <v-card>\n          <v-flex>\n          <v-card-title\n          :class='color'\n          primary-title\n          flat>\n          <v-icon class=\"mr-3\" color=\"white\">mdi-information</v-icon>\n          <v-flex class=\"\"><v-flex class=\"white--text\">INFORMATION</v-flex></v-flex>\n        </v-card-title>\n          <v-card-title>\n            <v-layout justify-center><span>{{msgSnackBar}}</span></v-layout>\n          </v-card-title>\n          </v-flex>\n          <v-card-actions>\n            <v-spacer></v-spacer>\n            <v-btn color=\"blue darken-1\" flat @click=\"success()\">Close</v-btn>\n          </v-card-actions>\n        </v-card>\n      </v-dialog>\n    </v-layout>\n</div>\n</template>\n\n<script>\nimport {\n  mapActions,\n} from 'vuex'\nimport {\n  sync,\n} from 'vuex-pathify'\nimport moment from 'moment'\nimport Axios from 'axios';\nimport controlData from './getApiData/controlData'\nimport store from '../store/store'\nimport functions from '../plugins/functions'\n\n\nexport default {\n  data() {\n    return {\n      cate_value: '',\n      valid: true,\n      color: '',\n      branchName: '',\n      snackฺฺฺBarBool: null,\n      timeout: 10000,\n      select: '02',\n      items: [\n        'Empooyee',\n        'Manager',\n      ],\n      selected: '',\n      confirmPassword: '',\n      getBranch: '',\n      LastName: '',\n      username: '',\n      nameRules: [\n        v => !!v || 'Name is required',\n      ],\n      branchRules: [\n        v => !!v || 'branch is required',\n      ],\n      pidRules: [\n        v => !!v || 'pid is required',\n        v => (v && v.length === 13) || 'pid is not match',\n      ],\n      passRules: [\n        v => !!v || 'password is required',\n      ],\n      fnameRules: [\n        v => !!v || 'firstName is required',\n      ],\n      lnameRules: [\n        v => !!v || 'lastName is required',\n      ],\n      password: '',\n      email: '',\n      emailRules: [\n        v => !!v || 'E-mail is required',\n        v => /.+@.+/.test(v) || 'E-mail must be valid',\n      ],\n      fname: '',\n      lname: '',\n      tname: 'Mr.',\n      branch: '',\n      pid: '',\n      msgSnackBar: '',\n      loadingbtn: null,\n      // nowDate: functions.moment('YYYYMMDD'),\n      nowDate: functions.moment(moment().format('YYYYMMDD')),\n    }\n  },\n  computed: {\n    ...sync('*'),\n    comparePasswords() {\n      return this.password !== this.confirmPassword ? 'Passwords do not match.' : true\n    },\n  },\n  watch: {\n  },\n  created() {\n    this.getDataBranch()\n  },\n  methods: {\n    ...mapActions({\n      setDataLogin: 'getApi/setDataLogin',\n    }),\n    validate() {\n      if (this.$refs.form.validate()) {\n        this.dataInsert()\n      }\n    },\n    async dataInsert() {\n      if (this.username || this.password || this.fname || this.pid) {\n        this.loadingbtn = true\n        const obj = {\n          username: this.username,\n          password: this.password,\n          email: this.email,\n          fname: this.fname,\n          lname: this.lname,\n          tname: this.tname,\n          pid: this.pid,\n          flag_id: this.select,\n          now_date: this.nowDate,\n          rcode_id: this.cate_value.branch_id,\n          role_id: this.select,\n        }\n        console.log('obj', obj)\n        await controlData.save(obj)\n        // const objBranch = {\n        //   branchName: this.branchName,\n        //   branch: this.branch,\n        // }\n        // await controlData.insertBranchName(objBranch)\n        await this.awitData()\n      } else {\n        this.snackฺฺฺBarBool = true\n        this.msgSnackBar = 'กรุณากรอกให้ครบสิคะ ไปทำมาใหม่นะ'\n        this.color = 'red'\n      }\n    },\n    awitData() {\n      if (Boolean(store.state.msgSave) === false && Boolean(store.state.msginsertBranch) === false) {\n        console.log('msgErrorLogin', store.state.msgSave)\n        this.loadingbtn = false\n        this.snackฺฺฺBarBool = true\n        this.msgSnackBar = 'unsuccessful'\n        this.color = 'red'\n      } else {\n        this.loadingbtn = false\n        this.snackฺฺฺBarBool = true\n        this.msgSnackBar = 'success'\n        this.color = 'green'\n      }\n    },\n    success() {\n      this.snackฺฺฺBarBool = false\n      const menu = 'Menu'\n      this.setDataLogin(menu);\n    },\n    async getDataBranch() {\n      const api = 'https://a-nuphasupit58.000webhostapp.com/php/getBranch.php';\n      const response = await Axios(api)\n      this.getBranch = response.data\n      console.log(this.getBranch)\n    },\n  },\n}\n</script>\n"]}]}