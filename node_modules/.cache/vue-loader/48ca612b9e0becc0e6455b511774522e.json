{"remainingRequest":"C:\\Users\\A-\\Documents\\project-new\\360-care\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!C:\\Users\\A-\\Documents\\project-new\\360-care\\src\\components\\GlobalDate.vue?vue&type=script&lang=js&","dependencies":[{"path":"C:\\Users\\A-\\Documents\\project-new\\360-care\\src\\components\\GlobalDate.vue","mtime":1634917372990},{"path":"C:\\Users\\A-\\Documents\\project-new\\360-care\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\Users\\A-\\Documents\\project-new\\360-care\\node_modules\\babel-loader\\lib\\index.js","mtime":315532800000},{"path":"C:\\Users\\A-\\Documents\\project-new\\360-care\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\Users\\A-\\Documents\\project-new\\360-care\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KDQpleHBvcnQgZGVmYXVsdCB7DQogIG5hbWU6ICdHbG9iYWxEYXRlJywNCiAgcHJvcHM6IHsNCiAgICB2YWx1ZTogbnVsbCAsDQogICAgbGFiZWw6IHsNCiAgICAgIGRlZmF1bHQ6ICfguKfguLHguJnguYDguIHguLTguJQnLA0KICAgIH0sDQogICAgZGlzYWJsZWQ6IHsNCiAgICAgIGRlZmF1bHQ6IGZhbHNlLA0KICAgIH0sDQogICAgcmVhZG9ubHk6IHsNCiAgICAgIGRlZmF1bHQ6IGZhbHNlLA0KICAgIH0sDQogIH0sDQogIGRhdGEoKSB7DQogICAgcmV0dXJuIHsNCiAgICAgIGRhdGU6IG51bGwsDQogICAgICBTdG9yZTogdGhpcy4kc3RvcmUuc3RhdGUsDQogICAgICBkYXRlRm9ybWF0OiBudWxsLA0KICAgICAgbWVudTogZmFsc2UsDQogICAgfTsNCiAgfSwNCiAgY29tcHV0ZWQ6IHsNCiAgICBzZXREaXNhYmxlZDogew0KICAgICAgZ2V0KCkgew0KICAgICAgICByZXR1cm4gdGhpcy5kaXNhYmxlZDsNCiAgICAgIH0sDQogICAgICBzZXQoKSB7fSwNCiAgICB9LA0KICAgIHNldFJlYWRvbmx5OiB7DQogICAgICBnZXQoKSB7DQogICAgICAgIHJldHVybiB0aGlzLnJlYWRvbmx5Ow0KICAgICAgfSwNCiAgICAgIHNldCgpIHt9LA0KICAgIH0sDQogICAgZGF0ZVRleHQ6IHsNCiAgICAgIGdldCgpIHsNCiAgICAgICAgcmV0dXJuIHRoaXMuZGF0ZUZvcm1hdDsNCiAgICAgIH0sDQogICAgICBzZXQobmV3VmFsKSB7DQogICAgICAgIGlmIChuZXdWYWwpIHsNCiAgICAgICAgICB0aGlzLmRhdGVGb3JtYXQgPSBuZXdWYWw7DQogICAgICAgICAgdGhpcy5kYXRlID0gdGhpcy5wYXJzZURhdGUodGhpcy5kYXRlRm9ybWF0KTsNCiAgICAgICAgICB0aGlzLiRlbWl0KCJ1cGRhdGU6dmFsdWUiLCB0aGlzLmZvcm1hdFRvWVlZWU1NREQodGhpcy5kYXRlRm9ybWF0KSk7DQogICAgICAgIH0gZWxzZSB7DQogICAgICAgICAgdGhpcy5kYXRlRm9ybWF0ID0gbnVsbDsNCiAgICAgICAgICB0aGlzLmRhdGUgPSBudWxsOw0KICAgICAgICAgIHRoaXMuJGVtaXQoInVwZGF0ZTp2YWx1ZSIsIDApOw0KICAgICAgICB9DQogICAgICB9LA0KICAgIH0sDQogICAgZGF0ZUNhbGVuZGFyOiB7DQogICAgICBnZXQoKSB7DQogICAgICAgIHJldHVybiB0aGlzLmRhdGU7DQogICAgICB9LA0KICAgICAgc2V0KG5ld1ZhbCkgew0KICAgICAgICB0aGlzLm1lbnUgPSBmYWxzZTsNCiAgICAgICAgdGhpcy5kYXRlID0gbmV3VmFsOw0KICAgICAgICB0aGlzLmRhdGVGb3JtYXQgPSB0aGlzLmZvcm1hdERhdGUodGhpcy5kYXRlKTsNCiAgICAgICAgdGhpcy4kZW1pdCgidXBkYXRlOnZhbHVlIiwgdGhpcy5mb3JtYXRUb1lZWVlNTUREKHRoaXMuZGF0ZUZvcm1hdCkpOw0KICAgICAgfSwNCiAgICB9LA0KICB9LA0KICB3YXRjaDogew0KICAgIHZhbHVlKG5ld1ZhbCkgew0KICAgICAgaWYgKG5ld1ZhbCkgew0KICAgICAgICBpZiAobmV3VmFsICYmIHRoaXMuZGF0ZUZvcm1hdCA9PSBudWxsKSB7DQogICAgICAgICAgdGhpcy5kYXRlVGV4dCA9IHRoaXMuZm9ybWF0VG9ERE1NWVlZWShuZXdWYWwpOw0KICAgICAgICB9IGVsc2UgaWYgKHRoaXMuZGF0ZUZvcm1hdC5sZW5ndGggPT0gOCkgew0KICAgICAgICAgIHRoaXMuZGF0ZVRleHQgPSB0aGlzLmZvcm1hdFRvRERNTVlZWVkobmV3VmFsKTsNCiAgICAgICAgfQ0KICAgICAgfSBlbHNlIHsNCiAgICAgICAgdGhpcy5kYXRlVGV4dCA9IG51bGw7DQogICAgICB9DQogICAgfSwNCiAgfSwNCiAgY3JlYXRlZCgpIHsNCiAgICB0aGlzLnNldERhdGUoKTsNCiAgfSwNCiAgbWV0aG9kczogew0KICAgIHNldERhdGUoKSB7DQogICAgICBpZiAodGhpcy52YWx1ZSA9PSAwKSByZXR1cm47DQogICAgICB0aGlzLmRhdGUgPSB0aGlzLnZhbHVlLnRvU3RyaW5nKCk7DQogICAgICB0aGlzLmRhdGVUZXh0ID0gdGhpcy5mb3JtYXRUb0RETU1ZWVlZKHRoaXMuZGF0ZSk7DQogICAgfSwNCiAgICBmb3JtYXREYXRlKGRhdGUpIHsNCiAgICAgIGlmICghZGF0ZSkgcmV0dXJuIG51bGw7DQoNCiAgICAgIGNvbnN0IFt5ZWFyLCBtb250aCwgZGF5XSA9IGRhdGUuc3BsaXQoJy0nKTsNCg0KICAgICAgcmV0dXJuIGAke2RheSA/IGRheS5wYWRTdGFydCgyLCAnMCcpIDogJzAwJ30kew0KICAgICAgICBtb250aCA/IG1vbnRoLnBhZFN0YXJ0KDIsICcwJykgOiAnMDAnDQogICAgICB9JHtTdHJpbmcoTnVtYmVyKHllYXIpICsgNTQzKS5wYWRTdGFydCg0LCAnMCcpfWA7DQogICAgfSwNCiAgICBwYXJzZURhdGUoZGF0ZSkgew0KICAgICAgaWYgKCFkYXRlKSByZXR1cm47DQogICAgICBpZiAoZGF0ZS5sZW5ndGggIT0gOCkgcmV0dXJuOw0KDQogICAgICBjb25zdCBbZGF5LCBtb250aCwgeWVhcl0gPSBbDQogICAgICAgIGRhdGUuc3Vic3RyaW5nKDAsIDIpLA0KICAgICAgICBkYXRlLnN1YnN0cmluZygyLCA0KSwNCiAgICAgICAgTnVtYmVyKGRhdGUuc3Vic3RyaW5nKDQpKSwNCiAgICAgIF07DQoNCiAgICAgIGxldCBkYXRlcyA9ICcnOw0KICAgICAgY29uc3QgW3ksIG0sIGRdID0gdGhpcy5nZXREYXlNb250aFllYXJGb3JaZXJvUGFkKGRheSwgbW9udGgsIHllYXIpOw0KICAgICAgZGF0ZXMgPSBgJHt5fS0ke219LSR7ZH1gOw0KDQogICAgICByZXR1cm4gZGF0ZXM7DQogICAgfSwNCiAgICBmb3JtYXRUb0RETU1ZWVlZKGRhdGUpIHsNCiAgICAgIGNvbnN0IGRhdGEgPSBgJHtkYXRlLnRvU3RyaW5nKCkucGFkRW5kKDgsICcwJyl9YDsNCiAgICAgIC8vIGxldCBkYXRhID0gZGF0ZQ0KICAgICAgY29uc3QgW3llYXIsIG1vbnRoLCBkYXldID0gWw0KICAgICAgICBkYXRhLnN1YnN0cmluZygwLCA0KSwNCiAgICAgICAgZGF0YS5zdWJzdHJpbmcoNCwgNiksDQogICAgICAgIGRhdGEuc3Vic3RyaW5nKDYpLA0KICAgICAgXTsNCg0KICAgICAgcmV0dXJuIGAke2RheX0ke21vbnRofSR7eWVhcn1gOw0KICAgIH0sDQogICAgZm9ybWF0VG9ZWVlZTU1ERChkYXRlKSB7DQogICAgICBjb25zdCBkYXRhID0gYCR7ZGF0ZS50b1N0cmluZygpLnBhZEVuZCg4LCAnMCcpfWA7DQoNCiAgICAgIGNvbnN0IFt5ZWFyLCBtb250aCwgZGF5XSA9IFsNCiAgICAgICAgZGF0YS5zdWJzdHJpbmcoNCksDQogICAgICAgIGRhdGEuc3Vic3RyaW5nKDIsIDQpLA0KICAgICAgICBkYXRhLnN1YnN0cmluZygwLCAyKSwNCiAgICAgIF07DQogICAgICByZXR1cm4gYCR7eWVhcn0ke21vbnRofSR7ZGF5fWA7DQogICAgfSwNCiAgICBnZXREYXlNb250aFllYXJGb3JaZXJvUGFkKGRheSwgbW9udGgsIHllYXIpIHsNCiAgICAgIGNvbnN0IHkgPSBTdHJpbmcoTWF0aC5hYnMoeWVhciAtIDU0MykpLnBhZFN0YXJ0KDQsICcwJyk7DQogICAgICBjb25zdCBtID0gTnVtYmVyKG1vbnRoKSA/IGAke21vbnRoLnBhZFN0YXJ0KDIsICcwJyl9YCA6ICcwMCc7DQogICAgICBjb25zdCBkID0gTnVtYmVyKGRheSkgPyBgJHtkYXkucGFkU3RhcnQoMiwgJzAnKX1gIDogJzAwJzsNCiAgICAgIHJldHVybiBbeSwgbSwgZF07DQogICAgfSwNCiAgfSwNCn07DQo="},{"version":3,"sources":["GlobalDate.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAoEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"GlobalDate.vue","sourceRoot":"src/components","sourcesContent":["<template>\r\n  <v-layout row>\r\n    <v-flex\r\n      pa-0\r\n      xs12\r\n      d-inline-flex\r\n    >\r\n      <v-flex xs11>\r\n        <v-text-field\r\n          v-model=\"dateText\"\r\n          prepend-icon=\" \"\r\n          :label=\"label\"\r\n          mask=\"##/##/####\"\r\n          placeholder=\" \"\r\n          persistent-hint\r\n          :readonly=\"setReadonly\"\r\n          :disabled=\"setDisabled\"\r\n          :class=\"{&quot;text-no-border&quot; : setDisabled}\"\r\n        />\r\n      </v-flex>\r\n      <v-flex\r\n        xs1\r\n        pt-2\r\n        pr-4\r\n      >\r\n        <v-menu\r\n          ref=\"menu\"\r\n          v-model=\"menu\"\r\n          :close-on-content-click=\"false\"\r\n          lazy\r\n          transition=\"scale-transition\"\r\n          offset-y\r\n          full-width\r\n          :disabled=\"setReadonly\"\r\n        >\r\n          <v-icon\r\n            slot=\"activator\"\r\n            ref=\"icon\"\r\n            style=\"margin-top:10px\"\r\n            color=\"primary\"\r\n          >\r\n            event\r\n          </v-icon>\r\n          <!-- <v-btn\r\n            small\r\n            slot='activator'\r\n            ref='icon'\r\n            style=\"padding-top:11px;margin-top:0px;margin-left:0px\"\r\n            flat\r\n            icon\r\n            color=\"primary\"\r\n          >\r\n            <v-icon>event</v-icon>\r\n          </v-btn> -->\r\n          <v-date-picker\r\n            v-model='dateCalendar'\r\n            color=\"primary\"\r\n            header-color=\"primary\"\r\n            locale=\"th\"\r\n            :readonly=\"setReadonly\"\r\n          />\r\n        </v-menu>\r\n      </v-flex>\r\n    </v-flex>\r\n  </v-layout>\r\n</template>\r\n\r\n<script>\r\nexport default {\r\n  name: 'GlobalDate',\r\n  props: {\r\n    value: null ,\r\n    label: {\r\n      default: 'วันเกิด',\r\n    },\r\n    disabled: {\r\n      default: false,\r\n    },\r\n    readonly: {\r\n      default: false,\r\n    },\r\n  },\r\n  data() {\r\n    return {\r\n      date: null,\r\n      Store: this.$store.state,\r\n      dateFormat: null,\r\n      menu: false,\r\n    };\r\n  },\r\n  computed: {\r\n    setDisabled: {\r\n      get() {\r\n        return this.disabled;\r\n      },\r\n      set() {},\r\n    },\r\n    setReadonly: {\r\n      get() {\r\n        return this.readonly;\r\n      },\r\n      set() {},\r\n    },\r\n    dateText: {\r\n      get() {\r\n        return this.dateFormat;\r\n      },\r\n      set(newVal) {\r\n        if (newVal) {\r\n          this.dateFormat = newVal;\r\n          this.date = this.parseDate(this.dateFormat);\r\n          this.$emit(\"update:value\", this.formatToYYYYMMDD(this.dateFormat));\r\n        } else {\r\n          this.dateFormat = null;\r\n          this.date = null;\r\n          this.$emit(\"update:value\", 0);\r\n        }\r\n      },\r\n    },\r\n    dateCalendar: {\r\n      get() {\r\n        return this.date;\r\n      },\r\n      set(newVal) {\r\n        this.menu = false;\r\n        this.date = newVal;\r\n        this.dateFormat = this.formatDate(this.date);\r\n        this.$emit(\"update:value\", this.formatToYYYYMMDD(this.dateFormat));\r\n      },\r\n    },\r\n  },\r\n  watch: {\r\n    value(newVal) {\r\n      if (newVal) {\r\n        if (newVal && this.dateFormat == null) {\r\n          this.dateText = this.formatToDDMMYYYY(newVal);\r\n        } else if (this.dateFormat.length == 8) {\r\n          this.dateText = this.formatToDDMMYYYY(newVal);\r\n        }\r\n      } else {\r\n        this.dateText = null;\r\n      }\r\n    },\r\n  },\r\n  created() {\r\n    this.setDate();\r\n  },\r\n  methods: {\r\n    setDate() {\r\n      if (this.value == 0) return;\r\n      this.date = this.value.toString();\r\n      this.dateText = this.formatToDDMMYYYY(this.date);\r\n    },\r\n    formatDate(date) {\r\n      if (!date) return null;\r\n\r\n      const [year, month, day] = date.split('-');\r\n\r\n      return `${day ? day.padStart(2, '0') : '00'}${\r\n        month ? month.padStart(2, '0') : '00'\r\n      }${String(Number(year) + 543).padStart(4, '0')}`;\r\n    },\r\n    parseDate(date) {\r\n      if (!date) return;\r\n      if (date.length != 8) return;\r\n\r\n      const [day, month, year] = [\r\n        date.substring(0, 2),\r\n        date.substring(2, 4),\r\n        Number(date.substring(4)),\r\n      ];\r\n\r\n      let dates = '';\r\n      const [y, m, d] = this.getDayMonthYearForZeroPad(day, month, year);\r\n      dates = `${y}-${m}-${d}`;\r\n\r\n      return dates;\r\n    },\r\n    formatToDDMMYYYY(date) {\r\n      const data = `${date.toString().padEnd(8, '0')}`;\r\n      // let data = date\r\n      const [year, month, day] = [\r\n        data.substring(0, 4),\r\n        data.substring(4, 6),\r\n        data.substring(6),\r\n      ];\r\n\r\n      return `${day}${month}${year}`;\r\n    },\r\n    formatToYYYYMMDD(date) {\r\n      const data = `${date.toString().padEnd(8, '0')}`;\r\n\r\n      const [year, month, day] = [\r\n        data.substring(4),\r\n        data.substring(2, 4),\r\n        data.substring(0, 2),\r\n      ];\r\n      return `${year}${month}${day}`;\r\n    },\r\n    getDayMonthYearForZeroPad(day, month, year) {\r\n      const y = String(Math.abs(year - 543)).padStart(4, '0');\r\n      const m = Number(month) ? `${month.padStart(2, '0')}` : '00';\r\n      const d = Number(day) ? `${day.padStart(2, '0')}` : '00';\r\n      return [y, m, d];\r\n    },\r\n  },\r\n};\r\n</script>\r\n\r\n<style>\r\n.v-date-picker-table {\r\n  height: auto;\r\n}\r\n</style>\r\n\r\n<style scoped>\r\n.text-no-border >>> .v-input__slot:before,\r\n.text-no-border >>> .v-input__slot:after,\r\n.text-no-border >>> input {\r\n  border-style: none;\r\n  margin-bottom: 0px;\r\n}\r\n\r\n.theme--light >>> table tbody tr:hover:not(.v-datatable__expand-row),\r\n.theme--light >>> table tbody tr[active] {\r\n  background-color: #ffffff !important;\r\n}\r\n</style>\r\n"]}]}