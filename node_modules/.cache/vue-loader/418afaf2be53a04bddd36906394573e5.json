{"remainingRequest":"/Users/asupreyaporn/Downloads/vue-barcode-master/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/asupreyaporn/Downloads/vue-barcode-master/src/views/Items.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/asupreyaporn/Downloads/vue-barcode-master/src/views/Items.vue","mtime":1557043206000},{"path":"/Users/asupreyaporn/Downloads/vue-barcode-master/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/asupreyaporn/Downloads/vue-barcode-master/node_modules/babel-loader/lib/index.js","mtime":499162500000},{"path":"/Users/asupreyaporn/Downloads/vue-barcode-master/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/asupreyaporn/Downloads/vue-barcode-master/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":["//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n\nimport {\n  mapActions,\n} from 'vuex'\nimport {\n  toNumber,\n} from 'lodash'\nimport {\n  QuaggaScanner,\n} from 'vue-quaggajs';\nimport moment from 'moment'\nimport Quagga from 'quagga';\nimport { sync } from 'vuex-pathify'\nimport Axios from 'axios';\nimport functions from '../plugins/functions'\nimport controlData from './getApiData/controlData'\n// import Axios from 'axios';\n\nexport default {\n  components: {\n    QuaggaScanner,\n  },\n  data() {\n    return {\n      nameRules: [\n        v => !!v || 'Name is required'],\n      databarcodeInput1Rules: [\n        v => !!v || 'databarcodeTracking is required'],\n      TypeNameRules: [\n        v => !!v || 'TypeName is required'],\n      priceRules: [\n        v => !!v || 'price is required'],\n      costRules: [\n        v => !!v || 'cost is required'],\n      QtyTypeRules: [\n        v => !!v || 'QtyType is required'],\n      qtyRules: [\n        v => !!v || 'QTY is required'],\n      barcodeItemsRules: [\n        v => !!v || 'barcodeItems is required'],\n      cateRules: [\n        v => !!v || 'catetagory is required'],\n      valid: true,\n      time: moment().format('hmmss'),\n      nowDate: functions.moment(moment().format('YYYYMMDD')),\n      msgSnackBar: '',\n      snackฺฺฺBarBool: false,\n      cate_value: '',\n      getCate: null,\n      dialogFull: false,\n      readerSize: {\n        width: 50,\n        height: 100,\n      },\n      headers: [{\n        text: 'BarcodeTrack',\n        align: 'left',\n        sortable: false,\n        value: 'databarcodeTracking',\n      },\n      {\n        text: 'name',\n        value: 'name',\n      },\n      {\n        text: 'QtyType',\n        value: 'QtyType',\n      },\n      {\n        text: 'Qty',\n        value: 'Qty',\n      },\n      {\n        text: 'Delete',\n        value: 'protein',\n      },\n      ],\n      dialogScan2: false,\n      dialogScan: false,\n      databarcodeInput2: null,\n      databarcodeInput1: null,\n      databarcode: null,\n      databarcode2: null,\n      disabledApi: false,\n      getdataTable: [],\n      price: '',\n      cost: '',\n      name: '',\n      qty: '',\n      QtyType: '',\n      detailItems: '',\n      openDialog: false,\n      Store: this.$store.state,\n      value: '',\n      items: [{\n        name: 'crate',\n        id: '1',\n      },\n      {\n        name: 'pack',\n        id: '2',\n      },\n      {\n        name: 'Wrap',\n        id: '3',\n      },\n      {\n        name: 'bag',\n        id: '4',\n      },\n      {\n        name: 'box',\n        id: '5',\n      },\n\n      ],\n    }\n  },\n  computed: {\n    ...sync('*'),\n  },\n  watch: {\n    async databarcodeInput1() {\n      // console.log('test')\n      console.log('test-API', this.databarcodeInput1)\n      if (this.databarcodeInput1.length === 13) {\n        const api = 'https://a-nuphasupit58.000webhostapp.com/php/selectItemCenter.php';\n        const params = new URLSearchParams();\n        params.append('barcode', this.databarcodeInput1)\n        const response = await Axios.post(api, params)\n        console.log('response', response.data)\n        // eslint-disable-next-line no-cond-assign\n        if (response.data[0].TypeId = '1') {\n          this.value = {\n            name: 'crate',\n            id: '1',\n          }\n          console.log(this.value)\n        // eslint-disable-next-line no-cond-assign\n        } else if (response.data[0].TypeId = '2') {\n          this.value = {\n            name: 'pack',\n            id: '2',\n          }\n        // eslint-disable-next-line no-cond-assign\n        } else if (response.data[0].TypeId = '3') {\n          this.value = {\n            name: 'Wrap',\n            id: '3',\n          }\n        // eslint-disable-next-line no-cond-assign\n        } else if (response.data[0].TypeId = '4') {\n          this.value = {\n            name: 'bag',\n            id: '4',\n          }\n        // eslint-disable-next-line no-cond-assign\n        } else if (response.data[0].TypeId = '5') {\n          this.value = {\n            name: 'box',\n            id: '5',\n          }\n        }\n        this.qty = response.data[0].qty\n        this.databarcodeInput2 = response.data[0].barcodeItems\n        this.name = response.data[0].name\n        this.price = response.data[0].price\n        this.cost = response.data[0].cost\n        // eslint-disable-next-line no-cond-assign\n        if (response.data[0].cate_id = '1') {\n          this.cate_value = {\n            cate_name: 'อาหารเเละเครื่องดื่ม',\n            cate_id: '1',\n          }\n          console.log(this.value)\n        // eslint-disable-next-line no-cond-assign\n        } else if (response.data[0].cate_id = '2') {\n          this.cate_value = {\n            cate_name: 'อุปกรณ์อิเล็กทรอนิกส์',\n            cate_id: '2',\n          }\n        // eslint-disable-next-line no-cond-assign\n        } else if (response.data[0].cate_id = '3') {\n          this.cate_value = {\n            cate_name: 'ผลิตภัณฑ์เกี่ยวกับผิว',\n            cate_id: '3',\n          }\n        // eslint-disable-next-line no-cond-assign\n        } else if (response.data[0].cate_id = '4') {\n          this.cate_value = {\n            cate_name: 'เครื่องแต่งกาย',\n            cate_id: '4',\n          }\n        // eslint-disable-next-line no-cond-assign\n        } else if (response.data[0].cate_id = '5') {\n          this.cate_value = {\n            cate_name: 'อื่นๆ',\n            cate_id: '5',\n          }\n        }\n        this.detailItems = response.data[0].desc\n        if (response.data !== 'error') {\n          this.disabledApi = true\n        }\n      }\n    },\n\n  },\n  mounted() {\n    controlData.getCate().then((response) => {\n      const retData = response.data\n      this.getCate = retData\n      console.log('daTAaPIsERCH', this.getCate)\n    });\n  },\n  methods: {\n    ...mapActions({\n      SetDataMenuRequest: 'getApi/SetDataMenuRequest',\n      setDataLogin: 'getApi/setDataLogin',\n    }),\n    validate() {\n      if (this.$refs.form.validate()) {\n        this.putdataInsert()\n      }\n    },\n    logIt(data) {\n      this.databarcode = data.codeResult.code\n    },\n    logIt2(data) {\n      this.databarcode2 = data.codeResult.code\n    },\n    putdata() {\n      this.databarcodeInput1 = this.databarcode\n      this.databarcode2 = null\n      this.dialogScan = false\n    },\n    putdata2() {\n      this.databarcodeInput2 = this.databarcode2\n      this.databarcode2 = null\n      this.dialogScan2 = false\n    },\n    openQuagga() {\n      this.dialogScan = true\n      this.databarcode = null\n      Quagga.start()\n    },\n    openQuagga2() {\n      console.log('test')\n      this.dialogScan2 = true\n      console.log('test')\n      this.databarcode2 = null\n      console.log('test')\n      Quagga.start()\n    },\n    closeDialog() {\n      this.dialogScan = false\n      this.databarcode = null\n    },\n    closeDialog2() {\n      this.dialogScan2 = false\n      this.databarcode2 = null\n    },\n    closeDialogFull() {\n      this.dialogFull = false\n    },\n    putdataInsert() {\n      this.dialogFull = false\n      console.log(this.Store.dataLogin[0].rcode_id)\n      const obj = {\n        databarcodeTracking: this.databarcodeInput1,\n        TypeName: this.value.name,\n        TypeId: this.value.id,\n        price: toNumber(this.price),\n        cost: toNumber(this.cost),\n        price_Piece: toNumber(this.price) / (toNumber(this.qty) * toNumber(this.QtyType)),\n        cost_Piece: toNumber(this.cost) / (toNumber(this.qty) * toNumber(this.QtyType)),\n        QtyType: toNumber(this.QtyType),\n        qty: toNumber(this.qty),\n        Qty_Piece: toNumber(this.qty) * toNumber(this.QtyType),\n        barcodeItems: this.databarcodeInput2,\n        name: this.name,\n        cate_id: this.cate_value.cate_id,\n        cate_name: this.cate_value.cate_name,\n        detailItems: this.detailItems,\n        date_in: functions.moment(moment().format('YYYYMMDD')),\n        add_time: moment().format('hmmss'),\n        branch_id: toNumber(this.Store.dataLogin[0].rcode_id),\n        remark: '',\n        status_id: '01',\n        approve_id: '01',\n        pid_user: String(this.Store.dataLogin[0].pid),\n        pid_approve: String(this.Store.dataLogin[0].pid),\n      }\n      this.Store.dataScan2.push(obj)\n      console.log(obj)\n      this.databarcodeInput1 = ''\n      this.databarcodeInput2 = ''\n      this.name = ''\n      this.value = ''\n      this.price = ''\n      this.cost = ''\n      this.QtyType = ''\n      this.qty = ''\n      this.cate_value = ''\n      this.detailItems = ''\n    },\n    deleteItem(item) {\n      this.getdataTable = item\n      this.msgSnackBar = 'Are you sure you want to delete this item?'\n      this.snackฺฺฺBarBool = true\n    },\n    deleteItemS() {\n      const index = this.Store.dataScan2.indexOf(this.getdataTable)\n      this.Store.dataScan2.splice(index, 1)\n      this.snackฺฺฺBarBool = false\n    },\n    confirm() {\n      const api = 'https://a-nuphasupit58.000webhostapp.com/php/InsertItemsNewFeeger.php';\n      const dataParams = new URLSearchParams();\n      const dataInsert = JSON.stringify(this.Store.dataScan2)\n      console.log('this.Store.dataScan', this.Store.dataScan)\n      dataParams.append('dataInsert', dataInsert)\n      Axios.post(api, dataParams)\n        .then((response) => {\n          console.log('-=-=-==-')\n          console.log(response.data)\n        })\n      this.insertItemsCenter()\n      this.openDialog = true\n      // ==========================================\n    },\n    insertItemsCenter() {\n      const api = 'https://a-nuphasupit58.000webhostapp.com/php/InsertItemsCenter.php';\n      const dataParams = new URLSearchParams();\n      const dataInsert2 = JSON.stringify(this.Store.dataScan2)\n      dataParams.append('dataInsert', dataInsert2)\n      Axios.post(api, dataParams)\n        .then((response) => {\n          console.log('-=-=-==-')\n          console.log(response.data)\n        })\n    },\n    setMenuRequest() {\n      this.openDialog = false\n      const menu = 'Menu'\n      this.setDataLogin(menu);\n      this.Store.dataScan2 = []\n    },\n  },\n\n}\n",{"version":3,"sources":["Items.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAqTA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA","file":"Items.vue","sourceRoot":"src/views","sourcesContent":["<template>\n<div>\n  <v-form\n      ref=\"form\"\n      v-model=\"valid\"\n      lazy-validation\n      >\n\n    <v-content>\n        <v-container>\n            <v-layout align-center justify-center>\n                <v-flex class=\"grey lighten-4\">\n                    <v-container>\n                        <v-card flat>\n\n\n                                    <v-btn large block color=\"blue-grey\"\n                                      class=\"white--text\" @click=\"dialogFull = true\">\n                                      creat Items\n                                      <v-icon right dark>mdi-file-document</v-icon>\n                                    </v-btn>\n\n                                      <v-flex>\n                                        <v-toolbar flat color=\"white\">\n                                        <v-toolbar-title>\n                                            <v-flex xs12 subheader class=\"blue--text\" ma-1>\n                                                sale\n                                            </v-flex>\n                                        </v-toolbar-title>\n                                        <v-divider class=\"mx-2\" inset vertical></v-divider>\n                                        <v-spacer></v-spacer>\n                                        <div v-if=\"Store.dataScan2 != ''\">\n                                            <v-btn class=\"white--text\"\n                                            color=\"blue\" @click=\"confirm()\">confirm</v-btn>\n                                        </div>\n                                    </v-toolbar>\n                                      </v-flex>\n                                    <v-data-table :headers=\"headers\"\n                                    :items=\"Store.dataScan2\"\n                                    :loading=\"true\" class=\"elevation-1\">\n                                        <v-progress-linear slot=\"progress\"\n                                        color=\"blue\" indeterminate></v-progress-linear>\n                                        <template slot=\"items\"\n                                        slot-scope=\"props\">\n                                            <td class=\"text-xs-center\">\n                                              {{ props.item.databarcodeTracking }}</td>\n                                            <td class=\"text-xs-center\">\n                                              {{ props.item.name }}</td>\n                                            <td class=\"text-xs-center\">\n                                              {{ props.item.QtyType }}</td>\n                                            <td class=\"text-xs-center\">\n                                              {{ props.item.qty }}</td>\n                                            <td>\n                                                <v-btn icon>\n                                                    <v-icon color=\"red\"\n                                                    @click=\"deleteItem(props.item)\">\n                                                    mdi-delete</v-icon>\n                                                </v-btn>\n                                            </td>\n                                        </template>\n                                    </v-data-table>\n                            <v-dialog v-model=\"dialogFull\"\n                            fullscreen hide-overlay\n                            transition=\"dialog-bottom-transition\">\n                                <v-toolbar dark color=\"blue\">\n                                    <v-btn icon dark @click=\"closeDialogFull()\">\n                                        <v-icon>mdi-close</v-icon>\n                                    </v-btn>\n                                    <v-spacer></v-spacer>\n                                    <v-toolbar-items>\n                                        <v-btn dark flat :disabled=\"!valid\"  @click=\"validate()\">Save</v-btn>\n                                    </v-toolbar-items>\n                                </v-toolbar>\n                                <v-card>\n\n                                    <v-layout mr-4>\n                                        <v-text-field prepend-icon=\" \"\n                                        :rules=\"databarcodeInput1Rules\"\n                                        :disabled=\"disabledApi\"\n                                        mask=\"#############\" counter=\"13\"\n                                        label=\"Barcodetracking\" v-model=\"databarcodeInput1\" />\n                                        <v-btn color=\"info\"\n                                        @click=\"openQuagga()\">\n                                            <v-icon justify-center>\n                                              mdi-barcode-scan\n                                              </v-icon>\n                                        </v-btn>\n                                    </v-layout>\n                                    <v-layout>\n                                        <v-flex>\n                                            <v-layout mr-5>\n                                                <v-select :items=\"items\"\n                                                :disabled=\"disabledApi\"\n                                                :rules=\"TypeNameRules\"\n                                                prepend-icon=\" \" item-value=\"id\"\n                                                v-model=\"value\" item-text=\"name\"\n                                                label=\"Unit\" single-line return-object />\n                                                <v-flex xs7 mr-3>\n                                                    <v-text-field\n                                                    type=\"number\" label=\"Qty/Unit\"\n                                                    :rules=\"QtyTypeRules\"\n                                                    prepend-icon=\" \"\n                                                    :counter=\"7\" mask=\"#######\"\n                                                    v-model=\"QtyType\" required />\n                                                </v-flex>\n                                            </v-layout>\n                                            <v-layout>\n                                                <v-flex xs10 mr-3>\n                                                    <v-text-field type=\"number\"\n                                                    :disabled=\"disabledApi\"\n                                                    :rules=\"qtyRules\"\n                                                    suffix=\"price\"\n                                                    label=\"Qty\" prepend-icon=\" \"\n                                                    :counter=\"7\" mask=\"#######\"\n                                                    v-model=\"qty\" required />\n                                                </v-flex>\n                                            </v-layout>\n                                            <v-layout>\n                                                <v-flex xs10>\n                                                    <v-text-field prepend-icon=\" \"\n                                                    :disabled=\"disabledApi\"\n                                                    :rules=\"priceRules\"\n                                                    v-model=\"price\" type=\"number\"\n                                                    suffix=\"Baht\" :counter=\"6\" mask=\"######\"\n                                                    name=\"input-7-4\"\n                                                    label=\"Price/Unit\"></v-text-field>\n                                                </v-flex>\n                                            </v-layout>\n                                            <v-layout>\n                                                <v-flex xs10>\n                                                    <v-text-field prepend-icon=\" \"\n                                                    :disabled=\"disabledApi\"\n                                                    :rules=\"costRules\"\n                                                    v-model=\"cost\" type=\"number\"\n                                                    suffix=\"Baht\" :counter=\"6\"\n                                                    mask=\"######\" name=\"input-7-4\"\n                                                    label=\"cost/Unit\"></v-text-field>\n                                                </v-flex>\n                                            </v-layout>\n                                            <v-layout mr-4>\n                                                <v-text-field prepend-icon=\" \"\n                                                mask=\"#############\" counter=\"13\"\n                                                :rules=\"BarcodeItemsRules\"\n                                                :disabled=\"disabledApi\"\n                                                label=\"barcodeitems\" v-model=\"databarcodeInput2\" />\n                                                <v-btn color=\"info\" @click=\"openQuagga2()\">\n                                                    <v-icon justify-center>mdi-barcode-scan</v-icon>\n                                                </v-btn>\n                                            </v-layout>\n                                            <v-layout>\n                                                <v-flex xs10>\n                                                    <v-text-field prepend-icon=\" \"\n                                                    :rules=\"nameRules\"\n                                                    :disabled=\"disabledApi\"\n                                                    label=\"Name\" v-model=\"name\" />\n                                                </v-flex>\n                                            </v-layout>\n                                            <v-layout>\n                                                <v-flex xs10>\n                                                    <v-select :items=\"getCate\"\n                                                    :rules=\"cateRules\"\n                                                    :disabled=\"disabledApi\"\n                                                    prepend-icon=\" \" item-value=\"cate_id\"\n                                                    v-model=\"cate_value\" item-text=\"cate_name\"\n                                                    label=\"category\" single-line return-object />\n                                                </v-flex>\n                                            </v-layout>\n                                            <v-layout>\n                                                <v-flex xs10>\n                                                    <v-textarea prepend-icon=\" \"\n                                                    :disabled=\"disabledApi\"\n                                                    v-model=\"detailItems\" box name=\"input-7-4\"\n                                                    label=\"Description\" auto-grow></v-textarea>\n                                                </v-flex>\n                                            </v-layout>\n                                        </v-flex>\n                                    </v-layout>\n                                    <v-flex>\n                                    </v-flex>\n                                    <v-dialog v-model=\"dialogScan\"\n                                    fullscreen hide-overlay transition=\"dialog-bottom-transition\">\n                                        <v-toolbar dark color=\"blue\">\n                                            <v-btn icon dark @click=\"closeDialog()\">\n                                                <v-icon>mdi-close</v-icon>\n                                            </v-btn>\n                                            <v-toolbar-title>Settings</v-toolbar-title>\n                                            <v-spacer></v-spacer>\n                                            <v-toolbar-items>\n                                                <v-btn dark flat @click=\"putdata()\">Save</v-btn>\n                                            </v-toolbar-items>\n                                        </v-toolbar>\n                                        <v-card>\n                                            <v-card-text>\n                                                <quagga-scanner v-if=\"!databarcode\"\n                                                :onDetected=\"logIt\" class=\"videoo\"\n                                                :readerSize=\"readerSize\"\n                                                :readerType=\"'ean_reader'\">\n                                                    <video v-if=\"!databarcode\"\n                                                    class=\"videoo\" ></video>\n                                                </quagga-scanner>\n                                            </v-card-text>\n                                            <v-card-actions>\n                                                <v-spacer></v-spacer>\n                                                <v-layout>\n                                                    <v-flex>\n                                                        <v-layout>\n                                                            <v-flex xs10>\n                                                                <v-text-field\n                                                                type=\"number\" prepend-icon=\" \"\n                                                                :counter=\"13\" mask=\"#############\"\n                                                                label=\"Barcode\"\n                                                                v-model=\"databarcode\" />\n                                                            </v-flex>\n                                                        </v-layout>\n                                                    </v-flex>\n                                                </v-layout>\n                                            </v-card-actions>\n                                        </v-card>\n                                    </v-dialog>\n                                    <!-- =================================================== -->\n                                    <v-dialog v-model=\"dialogScan2\"\n                                    fullscreen hide-overlay transition=\"dialog-bottom-transition\">\n                                        <v-toolbar dark color=\"blue\">\n                                            <v-btn icon dark @click=\"closeDialog2()\">\n                                                <v-icon>mdi-close</v-icon>\n                                            </v-btn>\n                                            <v-toolbar-title>Settings</v-toolbar-title>\n                                            <v-spacer></v-spacer>\n                                            <v-toolbar-items>\n                                                <v-btn dark flat @click=\"putdata2()\">Save</v-btn>\n                                            </v-toolbar-items>\n                                        </v-toolbar>\n                                        <v-card>\n                                            <v-card-text>\n                                                <quagga-scanner v-if=\"!databarcode2\"\n                                                :onDetected=\"logIt2\" class=\"videoo2\"\n                                                :readerSize=\"readerSize\"\n                                                :readerType=\"'ean_reader'\">\n                                                    <video v-if=\"!databarcode2\"\n                                                    class=\"videoo2\" ></video>\n                                                </quagga-scanner>\n                                            </v-card-text>\n                                            <v-card-actions>\n                                                <v-spacer></v-spacer>\n                                                <v-layout>\n                                                    <v-flex>\n                                                        <v-layout>\n                                                            <v-flex xs10>\n                                                                <v-text-field prepend-icon=\" \"\n                                                                :counter=\"13\" mask=\"#############\"\n                                                                label=\"Barcode\"\n                                                                v-model=\"databarcode2\" />\n                                                            </v-flex>\n                                                        </v-layout>\n                                                    </v-flex>\n                                                </v-layout>\n                                            </v-card-actions>\n                                        </v-card>\n                                    </v-dialog>\n                                </v-card>\n                            </v-dialog>\n                            <v-snackbar :vertical=\"true\"\n                            v-model=\"snackฺฺฺBarBool\" color=\"orange\" bottom>\n                                <v-flex>{{msgSnackBar}}</v-flex>\n                                <v-layout>\n                                    <v-flex>\n                                        <v-btn color=\"white\" flat @click=\"snackฺฺฺBarBool = false \">\n                                            no\n                                        </v-btn>\n                                    </v-flex>\n                                    <v-flex>\n                                        <v-btn color=\"white\" flat @click=\"deleteItemS()\">\n                                            yes\n                                        </v-btn>\n                                    </v-flex>\n                                </v-layout>\n                            </v-snackbar>\n\n                        </v-card>\n                    </v-container>\n                </v-flex>\n            </v-layout>\n        </v-container>\n    </v-content>\n    <v-dialog v-model=\"openDialog\" persistent max-width=\"400px\">\n        <v-card>\n          <v-flex>\n          <v-card-title\n          :class=\"'green'\"\n          primary-title\n          flat>\n          <v-icon class=\"mr-3\" color=\"white\">mdi-information</v-icon>\n          <v-flex class=\"\"><v-flex class=\"white--text\">INFORMATION</v-flex></v-flex>\n        </v-card-title>\n          <v-card-title>\n            <v-layout justify-center><span>success</span></v-layout>\n          </v-card-title>\n          </v-flex>\n          <v-card-actions>\n            <v-spacer></v-spacer>\n            <v-btn color=\"blue darken-1\" flat @click=\"setMenuRequest()\">Close</v-btn>\n          </v-card-actions>\n        </v-card>\n      </v-dialog>\n      </v-form>\n</div>\n</template>\n\n<script>\nimport {\n  mapActions,\n} from 'vuex'\nimport {\n  toNumber,\n} from 'lodash'\nimport {\n  QuaggaScanner,\n} from 'vue-quaggajs';\nimport moment from 'moment'\nimport Quagga from 'quagga';\nimport { sync } from 'vuex-pathify'\nimport Axios from 'axios';\nimport functions from '../plugins/functions'\nimport controlData from './getApiData/controlData'\n// import Axios from 'axios';\n\nexport default {\n  components: {\n    QuaggaScanner,\n  },\n  data() {\n    return {\n      nameRules: [\n        v => !!v || 'Name is required'],\n      databarcodeInput1Rules: [\n        v => !!v || 'databarcodeTracking is required'],\n      TypeNameRules: [\n        v => !!v || 'TypeName is required'],\n      priceRules: [\n        v => !!v || 'price is required'],\n      costRules: [\n        v => !!v || 'cost is required'],\n      QtyTypeRules: [\n        v => !!v || 'QtyType is required'],\n      qtyRules: [\n        v => !!v || 'QTY is required'],\n      barcodeItemsRules: [\n        v => !!v || 'barcodeItems is required'],\n      cateRules: [\n        v => !!v || 'catetagory is required'],\n      valid: true,\n      time: moment().format('hmmss'),\n      nowDate: functions.moment(moment().format('YYYYMMDD')),\n      msgSnackBar: '',\n      snackฺฺฺBarBool: false,\n      cate_value: '',\n      getCate: null,\n      dialogFull: false,\n      readerSize: {\n        width: 50,\n        height: 100,\n      },\n      headers: [{\n        text: 'BarcodeTrack',\n        align: 'left',\n        sortable: false,\n        value: 'databarcodeTracking',\n      },\n      {\n        text: 'name',\n        value: 'name',\n      },\n      {\n        text: 'QtyType',\n        value: 'QtyType',\n      },\n      {\n        text: 'Qty',\n        value: 'Qty',\n      },\n      {\n        text: 'Delete',\n        value: 'protein',\n      },\n      ],\n      dialogScan2: false,\n      dialogScan: false,\n      databarcodeInput2: null,\n      databarcodeInput1: null,\n      databarcode: null,\n      databarcode2: null,\n      disabledApi: false,\n      getdataTable: [],\n      price: '',\n      cost: '',\n      name: '',\n      qty: '',\n      QtyType: '',\n      detailItems: '',\n      openDialog: false,\n      Store: this.$store.state,\n      value: '',\n      items: [{\n        name: 'crate',\n        id: '1',\n      },\n      {\n        name: 'pack',\n        id: '2',\n      },\n      {\n        name: 'Wrap',\n        id: '3',\n      },\n      {\n        name: 'bag',\n        id: '4',\n      },\n      {\n        name: 'box',\n        id: '5',\n      },\n\n      ],\n    }\n  },\n  computed: {\n    ...sync('*'),\n  },\n  watch: {\n    async databarcodeInput1() {\n      // console.log('test')\n      console.log('test-API', this.databarcodeInput1)\n      if (this.databarcodeInput1.length === 13) {\n        const api = 'https://a-nuphasupit58.000webhostapp.com/php/selectItemCenter.php';\n        const params = new URLSearchParams();\n        params.append('barcode', this.databarcodeInput1)\n        const response = await Axios.post(api, params)\n        console.log('response', response.data)\n        // eslint-disable-next-line no-cond-assign\n        if (response.data[0].TypeId = '1') {\n          this.value = {\n            name: 'crate',\n            id: '1',\n          }\n          console.log(this.value)\n        // eslint-disable-next-line no-cond-assign\n        } else if (response.data[0].TypeId = '2') {\n          this.value = {\n            name: 'pack',\n            id: '2',\n          }\n        // eslint-disable-next-line no-cond-assign\n        } else if (response.data[0].TypeId = '3') {\n          this.value = {\n            name: 'Wrap',\n            id: '3',\n          }\n        // eslint-disable-next-line no-cond-assign\n        } else if (response.data[0].TypeId = '4') {\n          this.value = {\n            name: 'bag',\n            id: '4',\n          }\n        // eslint-disable-next-line no-cond-assign\n        } else if (response.data[0].TypeId = '5') {\n          this.value = {\n            name: 'box',\n            id: '5',\n          }\n        }\n        this.qty = response.data[0].qty\n        this.databarcodeInput2 = response.data[0].barcodeItems\n        this.name = response.data[0].name\n        this.price = response.data[0].price\n        this.cost = response.data[0].cost\n        // eslint-disable-next-line no-cond-assign\n        if (response.data[0].cate_id = '1') {\n          this.cate_value = {\n            cate_name: 'อาหารเเละเครื่องดื่ม',\n            cate_id: '1',\n          }\n          console.log(this.value)\n        // eslint-disable-next-line no-cond-assign\n        } else if (response.data[0].cate_id = '2') {\n          this.cate_value = {\n            cate_name: 'อุปกรณ์อิเล็กทรอนิกส์',\n            cate_id: '2',\n          }\n        // eslint-disable-next-line no-cond-assign\n        } else if (response.data[0].cate_id = '3') {\n          this.cate_value = {\n            cate_name: 'ผลิตภัณฑ์เกี่ยวกับผิว',\n            cate_id: '3',\n          }\n        // eslint-disable-next-line no-cond-assign\n        } else if (response.data[0].cate_id = '4') {\n          this.cate_value = {\n            cate_name: 'เครื่องแต่งกาย',\n            cate_id: '4',\n          }\n        // eslint-disable-next-line no-cond-assign\n        } else if (response.data[0].cate_id = '5') {\n          this.cate_value = {\n            cate_name: 'อื่นๆ',\n            cate_id: '5',\n          }\n        }\n        this.detailItems = response.data[0].desc\n        if (response.data !== 'error') {\n          this.disabledApi = true\n        }\n      }\n    },\n\n  },\n  mounted() {\n    controlData.getCate().then((response) => {\n      const retData = response.data\n      this.getCate = retData\n      console.log('daTAaPIsERCH', this.getCate)\n    });\n  },\n  methods: {\n    ...mapActions({\n      SetDataMenuRequest: 'getApi/SetDataMenuRequest',\n      setDataLogin: 'getApi/setDataLogin',\n    }),\n    validate() {\n      if (this.$refs.form.validate()) {\n        this.putdataInsert()\n      }\n    },\n    logIt(data) {\n      this.databarcode = data.codeResult.code\n    },\n    logIt2(data) {\n      this.databarcode2 = data.codeResult.code\n    },\n    putdata() {\n      this.databarcodeInput1 = this.databarcode\n      this.databarcode2 = null\n      this.dialogScan = false\n    },\n    putdata2() {\n      this.databarcodeInput2 = this.databarcode2\n      this.databarcode2 = null\n      this.dialogScan2 = false\n    },\n    openQuagga() {\n      this.dialogScan = true\n      this.databarcode = null\n      Quagga.start()\n    },\n    openQuagga2() {\n      console.log('test')\n      this.dialogScan2 = true\n      console.log('test')\n      this.databarcode2 = null\n      console.log('test')\n      Quagga.start()\n    },\n    closeDialog() {\n      this.dialogScan = false\n      this.databarcode = null\n    },\n    closeDialog2() {\n      this.dialogScan2 = false\n      this.databarcode2 = null\n    },\n    closeDialogFull() {\n      this.dialogFull = false\n    },\n    putdataInsert() {\n      this.dialogFull = false\n      console.log(this.Store.dataLogin[0].rcode_id)\n      const obj = {\n        databarcodeTracking: this.databarcodeInput1,\n        TypeName: this.value.name,\n        TypeId: this.value.id,\n        price: toNumber(this.price),\n        cost: toNumber(this.cost),\n        price_Piece: toNumber(this.price) / (toNumber(this.qty) * toNumber(this.QtyType)),\n        cost_Piece: toNumber(this.cost) / (toNumber(this.qty) * toNumber(this.QtyType)),\n        QtyType: toNumber(this.QtyType),\n        qty: toNumber(this.qty),\n        Qty_Piece: toNumber(this.qty) * toNumber(this.QtyType),\n        barcodeItems: this.databarcodeInput2,\n        name: this.name,\n        cate_id: this.cate_value.cate_id,\n        cate_name: this.cate_value.cate_name,\n        detailItems: this.detailItems,\n        date_in: functions.moment(moment().format('YYYYMMDD')),\n        add_time: moment().format('hmmss'),\n        branch_id: toNumber(this.Store.dataLogin[0].rcode_id),\n        remark: '',\n        status_id: '01',\n        approve_id: '01',\n        pid_user: String(this.Store.dataLogin[0].pid),\n        pid_approve: String(this.Store.dataLogin[0].pid),\n      }\n      this.Store.dataScan2.push(obj)\n      console.log(obj)\n      this.databarcodeInput1 = ''\n      this.databarcodeInput2 = ''\n      this.name = ''\n      this.value = ''\n      this.price = ''\n      this.cost = ''\n      this.QtyType = ''\n      this.qty = ''\n      this.cate_value = ''\n      this.detailItems = ''\n    },\n    deleteItem(item) {\n      this.getdataTable = item\n      this.msgSnackBar = 'Are you sure you want to delete this item?'\n      this.snackฺฺฺBarBool = true\n    },\n    deleteItemS() {\n      const index = this.Store.dataScan2.indexOf(this.getdataTable)\n      this.Store.dataScan2.splice(index, 1)\n      this.snackฺฺฺBarBool = false\n    },\n    confirm() {\n      const api = 'https://a-nuphasupit58.000webhostapp.com/php/InsertItemsNewFeeger.php';\n      const dataParams = new URLSearchParams();\n      const dataInsert = JSON.stringify(this.Store.dataScan2)\n      console.log('this.Store.dataScan', this.Store.dataScan)\n      dataParams.append('dataInsert', dataInsert)\n      Axios.post(api, dataParams)\n        .then((response) => {\n          console.log('-=-=-==-')\n          console.log(response.data)\n        })\n      this.insertItemsCenter()\n      this.openDialog = true\n      // ==========================================\n    },\n    insertItemsCenter() {\n      const api = 'https://a-nuphasupit58.000webhostapp.com/php/InsertItemsCenter.php';\n      const dataParams = new URLSearchParams();\n      const dataInsert2 = JSON.stringify(this.Store.dataScan2)\n      dataParams.append('dataInsert', dataInsert2)\n      Axios.post(api, dataParams)\n        .then((response) => {\n          console.log('-=-=-==-')\n          console.log(response.data)\n        })\n    },\n    setMenuRequest() {\n      this.openDialog = false\n      const menu = 'Menu'\n      this.setDataLogin(menu);\n      this.Store.dataScan2 = []\n    },\n  },\n\n}\n</script>\n"]}]}